

<div align="center"> 

![Logo](client/assets/images/KN-logo.png)

[![JavaScript](https://img.shields.io/badge/javascript-yellow?style=for-the-badge&logo=javascript&logoColor=white)](https://www.javascript.com/)
[![TypeScript](https://img.shields.io/badge/typescript-%233178C6?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![NodeJS](https://img.shields.io/badge/Nodejs-%23339933?style=for-the-badge&logo=node.js&logoColor=white)](https://nodejs.org/)
[![Express.js](https://img.shields.io/badge/expressjs-%23D6AC32?style=for-the-badge&logo=javascript&logoColor=white)](https://expressjs.com/)
[![React](https://img.shields.io/badge/react-%234E9FF9?style=for-the-badge&logo=react&logoColor=white)](https://reactjs.org/)
[![Sass](https://img.shields.io/badge/Sass-CC6699?style=for-the-badge&logo=sass&logoColor=white)](https://sass-lang.com/)
[![CSS3](https://img.shields.io/badge/CSS3-1572B6?style=for-the-badge&logo=css3&logoColor=white)](https://developer.mozilla.org/en-US/docs/Web/CSS)
[![HTML5](https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=html5&logoColor=white)](https://developer.mozilla.org/en-US/docs/Web/HTML)
[![Webpack](https://img.shields.io/badge/webpack-%236DB4F2?style=for-the-badge&logo=webpack&logoColor=white)](https://webpack.js.org/)
[![Jest](https://img.shields.io/badge/jest-%23C21325?style=for-the-badge&logo=jest&logoColor=white)](https://jestjs.io/)
[![Cypress](https://img.shields.io/badge/-cypress-058a5e?style=for-the-badge&logo=cypress&logoColor=white)](https://www.cypress.io/)
[![Docker](https://img.shields.io/badge/docker-%232496ED?style=for-the-badge&logo=docker&logoColor=white)](https://www.docker.com/)
[![Kubernetes](https://img.shields.io/badge/kubernetes-%23326CE5?style=for-the-badge&logo=kubernetes&logoColor=white)](https://kubernetes.io/)
[![Prometheus](https://img.shields.io/badge/prometheus-%23E6522C?style=for-the-badge&logo=prometheus&logoColor=white)](https://prometheus.io/)
[![Grafana](https://img.shields.io/badge/grafana-%23F46800?style=for-the-badge&logo=grafana&logoColor=white)](https://grafana.com/)
[![ChartJS](https://img.shields.io/badge/chart.js-%23FF6384?style=for-the-badge&logo=chart.js&logoColor=white)](https://www.chartjs.org/)
[![Helm](https://img.shields.io/badge/helm-090E6F?style=for-the-badge&logo=helm&logoColor=white)](https://helm.sh/)
[![GKE](https://img.shields.io/badge/GKE-%234285F4?style=for-the-badge&logo=googlecloud&logoColor=white)](https://cloud.google.com/kubernetes-engine)
[![AKS](https://img.shields.io/badge/AKS-326CE5?style=for-the-badge&logo=microsoft-azure&logoColor=white)](https://azure.microsoft.com/en-us/services/kubernetes-service/)
[![EKS](https://img.shields.io/badge/EKS-232F3E?style=for-the-badge&logo=amazon-aws&logoColor=white)](https://aws.amazon.com/eks/)
<!-- <br>
![Build Passing](https://img.shields.io/badge/build-awesome-brightgreen)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](https://github.com/oslabs-beta/kubernautical)
![License: MIT](https://img.shields.io/badge/License-MIT-brightgreen.svg)
![Release: 11.0](https://img.shields.io/badge/Release-1.0-brightgreen)
<br>
[![Stars](https://img.shields.io/github/stars/oslabs-beta/kubernautical?style=social)](https://github.com/oslabs-beta/kubernautical/stargazers)
[![Fork](https://img.shields.io/github/forks/oslabs-beta/kubernautical?style=social)](https://github.com/oslabs-beta/kubernautical/network/members)
[![Watchers](https://img.shields.io/github/watchers/oslabs-beta/kubernautical?style=social)](https://github.com/oslabs-beta/kubernautical/watchers) -->


---

<p align="center" style="display: block; font-size: 1.5em; font-weight: bold; margin-block-start: 1em">
Quick Links
  <br /><br />
</p>
<p align="center" style="font-size: 1em">
<a name="website" href="">Website</a>
<a name="medium" href="">Medium</a>
<!-- <a name="product-hunt" href="">Product Hunt</a> -->
<a name="linkedin" href="">LinkedIn</a>
</p>
<br /><br />

</div>

## KuberNautical
Introducing KuberNautical, an open-source Kuberenetes developer tool designed to empower you with unparalleled insights and control over your Kubernetes clusters. Seamlessly merging the worlds of metrics analysis and streamlined cluster management, KuberNautical redefines the way you interact with your kubernetes infrastructure.

## Features
### 2D Cluster view
Upon application launch, users can view a robust 2D configuration of their desired cluster.

![ClusterViewGif](https://github.com/NotHogue/GifStorage/blob/c344ca40d0b7f6dc696cfa52176cc82debb0beab/gifs/ClusterView.gif)

### Metrics Visualization
Users are able to view important metrics and logs pertinent to cluster health.

![MetricsGif]([https://github.com/NotHogue/GifStorage/blob/c344ca40d0b7f6dc696cfa52176cc82debb0beab/gifs/ClusterView.gif](https://github.com/NotHogue/GifStorage/blob/c344ca40d0b7f6dc696cfa52176cc82debb0beab/gifs/Metrics.gif))

### Cluster Logs
Users are able to view logs regarding events occuring within cluster. These logs can be filtered by namespace and pod.

![LogsGif]([https://github.com/NotHogue/GifStorage/blob/c344ca40d0b7f6dc696cfa52176cc82debb0beab/gifs/ClusterView.gif](https://github.com/NotHogue/GifStorage/blob/c344ca40d0b7f6dc696cfa52176cc82debb0beab/gifs/Logs.gif))

### Cluster Manipulation
Users have the ability to alter their cluster, including but not limited to adding and deleting a namespace or even deploying an appication with a Docker image! 

//Add Gif Here
### Load Testing
Users are able to apply a load test to a deployed application of their choosing. 


![LoadTestGif](https://github.com/NotHogue/GifStorage/blob/c344ca40d0b7f6dc696cfa52176cc82debb0beab/gifs/LoadTest.gif)

## Set Up
1. Fork this repository and clone it onto your local machine:
```
git clone https://github.com/oslabs-beta/Kubernautical
```
2. Install all package dependencies
```
npm install
```

### Before you start checklist
- [Cluster](#cluster-setup) from provider of choice
- [Kubectl](https://kubernetes.io/docs/tasks/tools/) installed
- [Helm](https://helm.sh/docs/intro/install/) installed
- SDK for your cluster(see specific instructions for your OS)
  - [GCP](https://cloud.google.com/sdk/docs/install) CLI
  - [Azure](https://learn.microsoft.com/en-us/cli/azure/install-azure-cli-linux?pivots=apt) CLI
  - [AWS](https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html) CLI
- [Prometheus](#prometheus) deployed
- [Grafana Loki](#grafana-loki) deployed
- [Grafana k6](https://k6.io/docs/get-started/installation/) installed

## Cluster Setup

**Google Cluster**
1. Create a standard cluster with [Google](https://cloud.google.com/kubernetes-engine) (autopilot clusters will not work).
2. Click Connect in GCP and copy the command into your terminal.

**Microsoft Cluster**
1. Create a cluster with [Microsoft](https://azure.microsoft.com/en-us/products/kubernetes-service).
2. Copy cluster into kube config 
```
az aks get-credentials --resource-group <yourResourceGroupName> \
--name <yourAKSClusterName> --admin
```

**Amazon Cluster**
1. Create a cluster with [AWS](https://docs.aws.amazon.com/eks/latest/userguide/getting-started-console.htm).
  - Properly setup IAM permissions.
2. command for copying into kube config?

**Minikube Cluster**
  1. [Install Docker Desktop](https://www.docker.com/products/docker-desktop/).
**We Reccommend you have 4g+ of free ram as Docker Desktop can overload and crash your machine.**
  2. Install [Minikube](https://minikube.sigs.k8s.io/docs/start).
  - Check system requirements!
  - Create a cluster 
  ```
  minikube start
  ```
  - Stop your cluster 
  ```
  minikube stop
  ```
  - Delete your cluster
  ```
  minikube delete
  ```

***Confirm that your cluster is in your kube config***
```
kubectl config view
```

## Prometheus
1. Create a namespace for prometheus
```
kubectl create namespace prometheus
```
2. Install the helm charts
```
helm repo add prometheus-community https://prometheus-community.github.io/helm-charts
```
3. Apply the helm charts and install prometheus in the namespace
```
helm upgrade -i prometheus prometheus-community/prometheus --namespace prometheus
```
4. For our application you need to expose the prometheus-server as a load balancer
```
kubectl expose deployment prometheus-server --port=80 --target-port=9090 --type=LoadBalancer \
 --name prometheus-server-lb --n prometheus
```

  **Deployment, target port, type and namespace are all mandatory as above, while port, and name can be customized if desired but name MUST start with `prometheus-server`**


## Grafana-loki
1. Use helm to add Grafana 
```
helm repo add grafana https://grafana.github.io/helm-charts
```
2. Update helm if necessary 
```
helm repo update
```
3. Check if helm charts installed 
```
helm search repo loki
```
4. Create a namespace for Loki 
```
kubectl create ns loki
```
5. Install Loki on the `loki` namespace 
```
helm upgrade --install --namespace loki logging grafana/loki -f yamls/values.yml \
--set loki auth_enabled=false
```
6. Deploy Grafana with Loki data source to enable log aggregation
```
helm upgrade --install --namespace=loki loki-grafana grafana/grafana
```
7. Deploy Promtail to enable log scraping from whole cluster
```
helm upgrade --install promtail grafana/promtail -n loki
```
8. Create a daemonset to ensure system-level logging
```
kubectl apply -f yamls/Daemonset.yaml
```
9. Expose `loki-gateway` as a load balancer
```
kubectl expose deployment loki-gateway --port=80 --target-port=8080 --type=LoadBalancer \
--name loki-gateway-lb -n loki
```

***Naming conventions for namespaces and services created are customizable, but name for `loki-gateway` service must start with `loki-gateway`.***

# Contributing
Contributions play a vital role in the open-source community. Any contributions are greatly appreciated!

- Fork the project.
- Create and work off of your feature branch.
- Create a pull request with detailed description of your changes from your feature branch to dev branch.
- Inform us upon PR submission. Once the changes are reviewed and approved, we will merge your code into the main repository.

# Meet the Team
 ![Jeremiah Hogue](client/assets/images/kitten.png) | ![Anthony Vuong](client/assets/images/kitten.png) | ![Stephen Acosta](client/assets/images/kitten.png) |  ![Michael Van](client/assets/images/kitten.png) |
| ------------- | ------------- |------------- | ------------- |
| Jeremiah Hogue [<img src="https://cdn.icon-icons.com/icons2/2351/PNG/512/logo_github_icon_143196.png" width="30px" >](https://github.com/NotHogue)  [<img src="https://www.freeiconspng.com/uploads/linkedin-icon-19.png" width="30px" >](https://www.linkedin.com/in/jeremiah-hogue/)| Anthony Vuong [<img src="https://cdn.icon-icons.com/icons2/2351/PNG/512/logo_github_icon_143196.png" width="30px" >](https://github.com/AnthonyKTVuong) [<img src="https://www.freeiconspng.com/uploads/linkedin-icon-19.png" width="30px" >](https://www.linkedin.com/in/anthony-v-9772351b7/) | Stephen Acosta  [<img src="https://cdn.icon-icons.com/icons2/2351/PNG/512/logo_github_icon_143196.png" width="30px" >](https://github.com/STAC98) [<img src="https://www.freeiconspng.com/uploads/linkedin-icon-19.png" width="30px" >](https://www.linkedin.com/in/staclb)  | Michael Van [<img src="https://cdn.icon-icons.com/icons2/2351/PNG/512/logo_github_icon_143196.png" width="30px" >](https://github.com/michaelvan996) [<img src="https://www.freeiconspng.com/uploads/linkedin-icon-19.png" width="30px" >](https://www.linkedin.com/in/michael-van-901533222/) |
